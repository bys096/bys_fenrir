<template>
  <div class="tab-content mb-5">
          <!-- tab - 專案介紹 -->
          <div class="tab-pane fade active show" id="tab-detail" role="tabpanel">
            <img src="https://WangShuan.github.io/bootstrap5-project/images/p1.jpeg" alt="施了魔法的照片/文章示意圖" class="img-fluid w-100" />
            <h3 class="
                      mt-3
                      mb-1
                      ps-3
                      fs-lg-4 fs-mobile-2
                      border-start border-4 border-warning
                      fw-bolder
                    ">
              施了魔法的照片
            </h3>
            <p class="lh-lg text-justify mt-2">
              受就相法大夠局來畫師我只這然以放灣得的後人心年我物我年，或人有動與次出女親構算帶年行著所間女，外成認心香吸工並知日成展源大超時動為生葉衣致長山對精做英密差家他微熱建取示濟定心一，品定把別銀動，深青輪一物加，生明果。西業白老如天有表非民大條全那遊，李文遊、像香過元學須本致信校態麼資司媽人價在它，地他不我計孩廠然不大指勢生的華常簡岸然，人著母病石金萬得一果。
            </p>
            <img src="https://WangShuan.github.io/bootstrap5-project/images/p2.jpeg" alt="留下當下的美好/文章示意圖" class="img-fluid mt-4 w-100" />
            <h3 class="
                      mt-3
                      ps-3
                      border-start border-4 border-warning
                      fw-bolder
                      fs-lg-4 fs-mobile-2
                    ">
              留下當下的美好
            </h3>
            <p class="lh-lg text-justify mt-2">
              受就相法大夠局來畫師我只這然以放灣得的後人心年我物我年，或人有動與次出女親構算帶年行著所間女，外成認心香吸工並知日成展源大超時動為生葉衣致長山對精做英密差家他微熱建取示濟定心一，品定把別銀動，深青輪一物加，生明果。西業白老如天有表非民大條全那遊，李文遊、像香過元學須本致信校態麼資司媽人價在它，地他不我計孩廠然不大指勢生的華常簡岸然，人著母病石金萬得一果。
            </p>
          </div>
          <!-- tab - 常見問答 -->
          <div class="tab-pane fade" id="tab-news" role="tabpanel">
            <ul class="list-unstyled accordion accordion-flush" id="qa-accordion">
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingOne">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fs-sm
                              fw-bolder
                              text-center
                              rounded
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q1
                    </span>
                    影片拍完之後可以編輯嗎？
                  </button>
                </h3>
                <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    可以進行簡易的編輯，內建 5
                    種濾鏡，影片秒數有3秒、5秒、10秒可以選擇，拍完的當下可以編輯要印出來的影片範圍哦！
                  </p>
                </div>
              </li>
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingTwo">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fw-bolder
                              text-center
                              rounded
                              fs-sm
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q2
                    </span>
                    有提供保固或維修服務嗎？
                  </button>
                </h3>
                <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            pe-3
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    提供產品售後服務，對產品本體(不含配件、線材)提供二年保固服務。產品因意外或人為不當使用或未經授權維修等非依使用手冊使用而造成產品損壞者，則不在保固範圍之內，得向客戶酌收產品維修服務費用。
                  </p>
                </div>
              </li>
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingThree">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fw-bolder
                              text-center
                              rounded
                              fs-sm
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q3
                    </span>
                    補充包底片要去哪裡購買呢？
                  </button>
                </h3>
                <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            pe-3
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    本產品可以兼容 i-type 及 600
                    相片，各大網路平台皆有販售。
                  </p>
                </div>
              </li>
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingFour">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fw-bolder
                              text-center
                              rounded
                              fs-sm
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q4
                    </span>
                    印出來的拍立得照片需要充電嗎？
                  </button>
                </h3>
                <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            pe-3
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    不用，取出後稍微搖晃，相片與空氣接觸數秒後便會產生圖像顏色。
                  </p>
                </div>
              </li>
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingFive">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fw-bolder
                              text-center
                              rounded
                              fs-sm
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q5
                    </span>
                    運送方式及付款方式有哪些呢？
                  </button>
                </h3>
                <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            pe-3
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    可以選擇超商取貨及宅配，付款方式有銀行轉帳及信用卡支付。
                  </p>
                </div>
              </li>
              <li class="accordion-item">
                <h3 class="accordion-header" id="flush-headingSix">
                  <button class="
                            accordion-button
                            btn-outline-warning
                            collapsed
                            fs-lg-sm fs-mobile-4
                          " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
                    <span class="
                              bg-warning
                              text-dark
                              font-baloo-tamma
                              fw-bolder
                              text-center
                              rounded
                              fs-sm
                              me-3
                              lh-lg
                              letter-spacing-7
                            ">
                      Q6
                    </span>
                    退換貨方式及規則
                  </button>
                </h3>
                <div id="flush-collapseSix" class="accordion-collapse collapse" aria-labelledby="flush-headingSix" data-bs-parent="#qa-accordion">
                  <p class="
                            accordion-body
                            mb-0
                            pe-3
                            fs-lg-sm fs-mobile-4
                            lh-lg
                            text-secondary
                          ">
                    因商品封條多為一次性包裝，商品退貨時必須回復原狀，亦即必須回復至您收到商品時的原始狀態，且會視回收的商品狀態另外酌收額外的整新費用，請您務必確認有購買需求後再行拆封，感謝您的配合。
                  </p>
                </div>
              </li>
            </ul>
          </div>
          <!-- tab - 目前進度 -->
          <div class="tab-pane fade" id="tab-qa" role="tabpanel">
            <ul class="list-unstyled">
              <li class="card mb-3">
                <div class="row g-0">
                  <div class="col-auto">
                    <img src="https://WangShuan.github.io/bootstrap5-project/images/news01.jpeg" alt="消息示意圖" class="news-img d-lg-none d-xl-block" />
                  </div>
                  <div class="col">
                    <div class="card-body">
                      <h4 class="card-title fs-6 fw-bold mb-0">
                        高雄體驗會｜免費參加送帆布袋
                      </h4>
                      <small class="
                                text-secondary
                                my-2
                                font-baloo-tamma
                                d-block
                                w-100
                                fw-normal
                              ">2021-6-20</small>
                      <p class="
                                card-text
                                text-secondary
                                fs-sm
                                d-none d-md-block
                                pb-3
                              ">
                        大家安安！謝謝每位贊助者的熱情支持，讓我們離夢想更進一步，我們將於下個月舉辦體驗會，歡迎各位踴躍參與！
                      </p>
                      <a href="#" class="
                                link-danger
                                font-baloo-tamma
                                fw-bold
                                pb-2
                                fs-6
                                position-absolute
                                bottom-0
                              ">MORE</a>
                    </div>
                  </div>
                </div>
              </li>
              <li class="card mb-3">
                <div class="row g-0">
                  <div class="col-auto">
                    <img src="https://WangShuan.github.io/bootstrap5-project/images/news02.jpeg" alt="消息示意圖" class="news-img d-lg-none d-xl-block" />
                  </div>
                  <div class="col">
                    <div class="card-body">
                      <h4 class="card-title fw-bold fs-6 mb-0">
                        高雄體驗會｜免費參加送帆布袋
                      </h4>
                      <small class="
                                text-secondary
                                my-2
                                font-baloo-tamma
                                d-block
                                w-100
                                fw-normal
                              ">2021-6-20</small>
                      <p class="
                                card-text
                                text-secondary
                                fs-sm
                                d-none d-md-block
                                pb-3
                              ">
                        大家安安！謝謝每位贊助者的熱情支持，讓我們離夢想更進一步，我們將於下個月舉辦體驗會，歡迎各位踴躍參與！
                      </p>
                      <a href="#" class="
                                link-danger
                                font-baloo-tamma
                                fw-bold
                                pb-2
                                fs-6
                                position-absolute
                                bottom-0
                              ">MORE</a>
                    </div>
                  </div>
                </div>
              </li>
              <li class="card mb-3">
                <div class="row g-0">
                  <div class="col-auto">
                    <img src="https://WangShuan.github.io/bootstrap5-project/images/news03.jpeg" alt="消息示意圖" class="news-img d-lg-none d-xl-block" />
                  </div>
                  <div class="col">
                    <div class="card-body">
                      <h4 class="card-title fs-6 fw-bold mb-0">
                        高雄體驗會｜免費參加送帆布袋
                      </h4>
                      <small class="
                                text-secondary
                                my-2
                                font-baloo-tamma
                                d-block
                                w-100
                                fw-normal
                              ">2021-6-20</small>
                      <p class="
                                card-text
                                text-secondary
                                fs-sm
                                d-none d-md-block
                                pb-3
                              ">
                        大家安安！謝謝每位贊助者的熱情支持，讓我們離夢想更進一步，我們將於下個月舉辦體驗會，歡迎各位踴躍參與！
                      </p>
                      <a href="#" class="
                                link-danger
                                font-baloo-tamma
                                fw-bold
                                pb-2
                                fs-6
                                position-absolute
                                bottom-0
                              ">MORE</a>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <!-- tab - 留言 -->
          <div class="tab-pane fade" id="tab-comment" role="tabpanel">
            <div class="
                      border-3
                      rounded
                      border-start border-warning
                      p-3
                      text-dark
                      mb-3
                      d-none d-md-block
                      letter-spacing-7
                      bg-gray-100
                    ">
              レビューを書いた方には<a href="#" class="link-danger">ポイント50Pを積立します！</a>
            </div>
            <ul class="mb-4 list-unstyled">
              

              <li class="mb-3" v-for="(content, index) in props" :key="index">
                <div class="border rounded-4 p-3 comment">
                  <div class="d-flex justify-content-start" id="review-header">


                    <div class="review-title">
                    <img src="https://WangShuan.github.io/bootstrap5-project/images/user_img01.jpeg" alt="廖小杰個人頭像" />
                    <div class="d-flex flex-column align-items-start ms-3">
                      <v-rating
                                    class="my-rating"
                                    v-model="content.review.reviewRating"
                                    readonly
                                    density="compact"
                                    bg-color="orange-lighten-1"
                                    id="t"
                      ></v-rating>

                      
                      <!-- <a href="#" class="
                                fs-lg-5 fs-mobile-4
                                link-gray-700
                                letter-spacing-20
                              ">{{ content.review.userNick }}</a> -->
                      <a href="#" class="
                                letter-spacing-20
                                fs-lg-5 fs-mobile-4
                                link-gray-700
                              ">
                        {{ content.review.userNick }}
                      </a>
                      <!-- <small class="text-secondary fs-sm letter-spacing-20">
                        {{ content.review.createdAt[0] }}年{{ content.review.createdAt[1] }}月{{ content.review.createdAt[2] }}日
                        {{ content.review.createdAt[3] < 10 ? '0'+ content.review.createdAt[3] : content.review.createdAt[3] }}:{{ content.review.createdAt[4] < 10 ? '0' + content.review.createdAt[4] : content.review.createdAt[4] }}
                      </small> -->
                      <small class="text-secondary fs-sm letter-spacing-20">
                        2020年5月22日 11:32
                      </small>
                    </div>
                    </div>



                    <div class="dl-wrap" @click="deleteReply(content.review, content.reply)">
                        <v-chip
                        class="ma-2 dl "
                        variant="outlined"
                        >
                        <svg-icon type="mdi" :path="path"></svg-icon>
                        <span class="dl-text">削除</span>
                        </v-chip>
                      </div>
                    <!-- <div class="dl-wrap">
                      <v-chip
                      class="ma-2 dl"
                      variant="outlined"
                      >
                      <svg-icon type="mdi" :path="path"></svg-icon>
                      <span class="dl-text">削除</span>
                      </v-chip>
                    </div> -->
                    

                  </div>
                  <div>
                    <p class="text-gray-800 my-3 letter-spacing-7">
                      {{ content.review.reviewText }}
                    </p>
                  </div>
                  <div v-show="content.reply == null">
                    <span class="reply
                          fw-bold
                          fs-sm letter-spacing-10
                          d-block
                          "
                          @click="showCommentForm()"
                      >コメント</span>
                      
                  </div>
                    
                  <div class="
                            text-gray-800
                            p-3
                            bg-light
                            rounded-2
                            letter-spacing-7
                          "
                          v-if="isShowCommnentForm"
                  >
                    <!-- コメントフォーム -->
                    <div class="mb-3">
                      <v-container fluid>
                        <v-textarea
                          name="input-7-1"
                          variant="filled"
                          clearable
                          v-model="replyText"
                          placeholder="お客さまへのコメントを作成してください。"
                          required
                          model-value="The Woodman set to work at once, and so sharp was his axe that the tree was soon chopped nearly through."
                        ></v-textarea>
                        <div class="replyBtn">
                        <button class="
                              btn
                              btn-sm
                              btn-outline-secondary
                              btn-outline-secondary-hover
                              rounded-pill
                              px-3
                              "
                            @click="saveReply(content.review.rid)"
                        >
                          <i class="far fa-comment-dots me-2 text-secondary"></i>コメント
                        </button>
                        </div>
                      </v-container>
                      <div class="invalid-feedback">請選擇一種付款方式</div>
                    </div>
                  </div>
                    <div class="reply-content" v-if="content.reply !== null">
                      <span class="
                                text-danger
                                w-100
                                fs-sm
                                d-block
                                mb-2
                                letter-spacing-6
                              ">オーナー</span>
                      {{ content.reply.replyText }} 
                    </div>
                </div>
              </li>

            
              
            </ul>
          </div>
        </div>
</template>

<script>
import axios from 'axios';
import SvgIcon from '@jamescoyle/vue-icon'
import { mdiDeleteVariant } from '@mdi/js';






export default {
  components: {
    SvgIcon
  },
  props: ['props'],
  computed: {
    reviewData() {
      
    }
  },

  data() {
    return {
      isShowCommnentForm: false,
      replyText: null,
      mdiDelete: true,
      path: mdiDeleteVariant,
    }
  },
  methods: {
    showCommentForm() {
      this.isShowCommnentForm = !this.isShowCommnentForm;
    },
    saveReply(reviewId) {
      const reply = {
        replyText: this.replyText,
        reviewId: reviewId
      }
      this.$emit('addReply', reply);
      this.showCommentForm();
    },
    deleteReply(reviewParam, replyParam) {
      console.log(reviewParam.rid);
      console.log(replyParam.replyId);
    
      const reviewObject = {
        reviewId: reviewParam.rid,
        replyId: replyParam.replyId
      }
      this.$emit('deleteReply', reviewObject);
      
    }
  }
  
}
</script>

<style scoped>
.my-rating >>> .theme--light.v-icon {
  color: #FFD700;
  padding: 0;
  position: relative;
  right: 0.3vw
}
.reply {
  color: #636057;
  text-decoration: none;  
  position: relative;
  /* left: 1vw; */
  /* top: 1vh; */
}

.reply:hover{
  color: #ff785e;
  cursor: pointer;
}
/* .theme--light.v-chip:not(.v-chip--active) {
    background: #ff785e;
} */
#review-header {
    justify-content: space-between !important;
}
.review-title {
  display: flex;
}
/* .dl-wrap {
  position: relative;
  
}*/
.theme--light.v-chip:not(.v-chip--active) {
    background: transparent;
  border: solid 1px #e91e63;
    /* border: #e91e63; */
}

.dl {
    color: #e91e63!important;
    cursor: pointer;
}
.dl-text {
  margin-left: 5px;
}

.replyBtn {
  /* position: relative; */
  /* left: 50px; */
  display: flex;
  justify-content: flex-end;
}
</style>